<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire</title>
    <style>
        .highlight {
            background-color: yellow;
        }

        .incorrect {
            color: red;
        }

        #solutionInfo {
            display: none; /* Cacher par défaut */
            margin-bottom: 10px;
        }

        #finalScore {
            font-size: larger;
            margin-top: 20px;
            font-weight: bold;
        }

        .container {
            display: flex;
            justify-content: space-between;
        }

        .actions, .answers {
            width: 45%;
        }

        .dropzone {
            width: 100%;
            min-height: 50px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px dashed #ccc;
            background-color: #f9f9f9;
        }

        .draggable {
            padding: 8px;
            margin: 5px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            cursor: move;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .answer-area {
            margin-top: 20px;
        }

        .question-row {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Questionnaire</h1>

    <h2 id="finalScoreHeader"></h2> <!-- Afficher le score final dans le header -->

    <div id="questionContainer">
        <!-- Contenu de question1.html -->
        <div>
            <h1>Question 1</h1>
            <h2>Your network contains two Active Directory Domain Services (AD DS) forests named contoso.com and fabrikam.com. Contoso.com contains three child domains named amer.contoso.com, apac.contoso.com, and emea.contoso.com. Fabrikam.com contains a child domain named apac.fabrikam.com. A bidirectional forest trust exists between contoso.com and fabrikam.com.</h2>
            <p>You need to provide users in the contoso.com forest with access to the resources in the fabrikam.com forest. The solution must meet the following requirements:</p>
            <ul>
                <li>Users in contoso.com must only be added directly to groups in the contoso.com forest.</li>
                <li>Permissions to access the resources in fabrikam.com must only be granted directly to groups in the fabrikam.com forest.</li>
                <li>The number of groups must be minimized.</li>
            </ul>
            <p>Which type of groups should you use to organize the users and to assign permissions? To answer, drag the appropriate group types to the correct requirements. Each group may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content.</p>

            <div class="container">
                <div class="actions">
                    <div class="draggable" draggable="true" data-action="Domain global">Domain global</div>
                    <div class="draggable" draggable="true" data-action="Domain local">Domain local</div>
                    <div class="draggable" draggable="true" data-action="Universal">Universal</div>
                </div>
                <div class="answers">
                    <div class="dropzone" id="dropzoneOrganizeUsers">Organize users: </div>
                    <div class="dropzone" id="dropzoneAssignPermissions">Assign permissions: </div>
                </div>
            </div>

            <div id="solutionInfo1"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo1" data-correct-answer="Domain global,Domain local" data-answer-name="answer1" data-solution-text="Organize users: Domain global<br>Assign permissions: Domain local<br><br>Explanation:<br>Users go to global groups, because, they say ONLY CONTOSO.com MEMBERS. Universal group will allow CHILD DOMAIN MEMBERS as well.<br>For assigning the permissions, it should be DOMAIN LOCAL. Because of A>G>U>DL=>Permissions. AND also DOMAIN LOCAL groups, can contain groups/users of other forests.<br>For reference: <a href='https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/understand-security-groups#group-scope' target='_blank'>Group Scope</a>">Solution</button>
        </div>

        <!-- Contenu de question2.html -->
        <div>
            <h1>Question 2</h1>
            <h2>Your network contains an Active Directory Domain Services (AD DS) forest named contoso.com. The forest root domain contains a server named server1.contoso.com.<br>
            A two-way forest trust exists between the contoso.com forest and an AD DS forest named fabrikam.com. The fabrikam.com forest contains 10 child domains.<br>
            You need to ensure that only the members of a group named fabrikam\Group1 can authenticate to server1.contoso.com.<br>
            What should you do first?</h2>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer2" value="A">
                    <label for="optionA">A. Add fabrikam\Group1 to the local Users group on server1.contoso.com.</label><br>
                    <input type="radio" id="optionB" name="answer2" value="B">
                    <label for="optionB">B. Enable SID filtering for the trust.</label><br>
                    <input type="radio" id="optionC" name="answer2" value="C">
                    <label for="optionC">C. Enable Selective authentication for the trust.</label><br>
                    <input type="radio" id="optionD" name="answer2" value="D">
                    <label for="optionD">D. Change the trust to a one-way external trust.</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo2"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo2" data-correct-answer="C" data-answer-name="answer2" data-solution-text="C. Enable Selective authentication for the trust<br><br>Explanation:<br>Selective authentication is a feature that allows administrators to control which users from a trusted domain can access resources in a trusting domain. To meet your requirement of allowing only members of fabrikam\Group1 to authenticate to server1.contoso.com, you would need to enable selective authentication for the trust between contoso.com and fabrikam.com and then configure it to allow authentication for only members of fabrikam\Group1. This way, only members of fabrikam\Group1 would be able to access server1.contoso.com, while other users from the fabrikam.com forest would be denied access.<br><br><img src='https://raw.githubusercontent.com/pc-aide/az-800/main/selectiveAuthentification.png' alt='Selective Authentication'><br>For reference: <a href='https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2003/cc755321(v=ws.10)' target='_blank'>Selective Authentication</a>">Solution</button>
        </div>

        <!-- Contenu de question3.html -->
        <div>
            <h1>Question 3</h1>
            <h2>Your network contains an Active Directory forest. The forest contains two domains named contoso.com and east.contoso.com and the servers shown in the following table.</h2>

            <table>
                <tr>
                    <th>Name</th>
                    <th>Domain</th>
                    <th>Configuration</th>
                </tr>
                <tr>
                    <td>DC1</td>
                    <td>contoso.com</td>
                    <td>Domain controller</td>
                </tr>
                <tr>
                    <td>Server1</td>
                    <td>contoso.com</td>
                    <td>Member server</td>
                </tr>
                <tr>
                    <td>DC2</td>
                    <td>east.contoso.com</td>
                    <td>Domain controller</td>
                </tr>
                <tr>
                    <td>Server2</td>
                    <td>east.contoso.com</td>
                    <td>Member server</td>
                </tr>
            </table>

            <p>Contoso.com contains a user named User1.<br><br>
            You add User1 to the built-in Backup Operators group in contoso.com.<br><br>
            Which servers can User1 back up?</p>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer3" value="A">
                    <label for="optionA">A. DC1 only</label><br>
                    <input type="radio" id="optionB" name="answer3" value="B">
                    <label for="optionB">B. Server1 only</label><br>
                    <input type="radio" id="optionC" name="answer3" value="C">
                    <label for="optionC">C. DC1 and DC2 only</label><br>
                    <input type="radio" id="optionD" name="answer3" value="D">
                    <label for="optionD">D. DC1 and Server1 only</label><br>
                    <input type="radio" id="optionE" name="answer3" value="E">
                    <label for="optionE">E. DC1, DC2, Server1, and Server2</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo3"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo3" data-correct-answer="A" data-answer-name="answer3" data-solution-text="A. DC1 only<br><br>Explanation:<br>The 'Backup Operators' group is a built-in group that is local to each domain controller or member server. When you add User1 to the 'Backup Operators' group in contoso.com, they are only granted backup permissions for resources within the contoso.com domain. They will not have backup permissions in the east.contoso.com domain or on any servers within it.<br>For reference: <a href='https://serverfault.com/questions/1061814/how-to-make-domain-user-for-backup-be-part-of-backup-operators-group-on-one-clie' target='_blank'>How to make domain user for backup be part of Backup Operators group on one client only?</a>">Solution</button>
        </div>

        <!-- Contenu de question4.html -->
        <div>
            <h1>Question 4</h1>
            <p>Your network contains an Azure Active Directory Domain Services (Azure AD DS) domain named contoso.com.<br><br>
            You need to configure a password policy for the local user accounts on the Azure virtual machines joined to contoso.com.<br><br>
            What should you do? To answer, select the appropriate options in the answer area.<br><br>
            NOTE: Each correct selection is worth one point.</p>

            <div class="answer-area">
                <div class="question-row">
                    <span>Sign in by using a user account that is member of the:</span>
                    <select data-answer="1" id="select4Option1">
                        <option value="AAD DC Administrators group">AAD DC Administrators group</option>
                        <option value="Administrators group">Administrators group</option>
                        <option value="Domain Admins group">Domain Admins group</option>
                    </select>
                </div>

                <div class="question-row">
                    <span>Use a GPO linked to the:</span>
                    <select data-answer="2" id="select4Option2">
                        <option value="AADDC Computers OU">AADDC Computers OU</option>
                        <option value="AADDC users OU">AADDC users OU</option>
                        <option value="Computers container">Computers container</option>
                    </select>
                </div>
            </div>

            <div id="solutionInfo4"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo4" data-correct-answer="AAD DC Administrators group,AADDC Computers OU" data-answer-name="answer4" data-solution-text="Solution: 1. AAD DC Administrators group, 2. AADDC Computers OU<br><br>Explanation:<br>You need this permission to be able to login on the Azure AD domain controller<br>Password policy is a computer policy<br>For reference: <a href='https://learn.microsoft.com/en-us/entra/identity/domain-services/manage-group-policy' target='_blank'>Manage Group Policy</a>">Solution</button>
        </div>

        <!-- Contenu de question5 intégré directement -->
        <div>
            <h1>Question 5</h1>
            <p>Your network contains an Active Directory Domain Services (AD DS) forest. The forest contains three domains. Each domain contains 10 domain controllers.<br><br>
            You plan to store a DNS zone in a custom Active Directory partition.<br><br>
            You need to create the Active Directory partition for the zone. The partition must replicate to only four of the domain controllers.<br><br>
            What should you use?</p>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer5" value="A">
                    <label for="optionA">A. Windows Admin Center</label><br>
                    <input type="radio" id="optionB" name="answer5" value="B">
                    <label for="optionB">B. DNS Manager</label><br>
                    <input type="radio" id="optionC" name="answer5" value="C">
                    <label for="optionC">C. Active Directory Sites and Services</label><br>
                    <input type="radio" id="optionD" name="answer5" value="D">
                    <label for="optionD">D. ntdsutil.exe</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo5"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo5" data-correct-answer="D" data-answer-name="answer5" data-solution-text="Solution: D. ntdsutil.exe<br><br>Explanation:<br>To create an Active Directory partition that replicates to only four of the domain controllers, you would use ntdsutil.exe.<br>Steps:<br>1. ntdsutil<br>2. domain management<br>3. connections<br>4. connect to server <server_name><br>5. quit<br>6. create nc <partition_name> applicationDirectoryPartition<br>7. quit<br>For reference: <a href='https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc730970(v=ws.11)' target='_blank'>Create an application directory partition</a><br>For reference: <a href='https://techdirectarchive.com/2022/01/26/ad-ds-partition-create-and-delete-with-ntdsutil-exe/' target='_blank'>Create and delete AD DS partition with ntdsutil.exe</a>">Solution</button>
        </div>

        <!-- Contenu de question6 ajouté -->
        <div>
            <h1>Question 6</h1>
            <p>Your network contains an Active Directory domain named contoso.com. The domain contains the computers shown in the following table.</p>

            <table>
                <tr>
                    <th>Name</th>
                    <th>OS</th>
                </tr>
                <tr>
                    <td>Computer1</td>
                    <td>Windows 11</td>
                </tr>
                <tr>
                    <td>Server1</td>
                    <td>Windows Server 2016</td>
                </tr>
                <tr>
                    <td>Server2</td>
                    <td>Windows Server 2019</td>
                </tr>
                <tr>
                    <td>Server3</td>
                    <td>Windows Server 2022</td>
                </tr>
            </table>

            <p>On Server3, you create a Group Policy Object (GPO) named GPO1 and link GPO1 to contoso.com. GPO1 includes a shortcut preference named Shortcut1 that has item-level targeting configured as shown in the following exhibit.</p>

            <img src='https://raw.githubusercontent.com/pc-aide/az-800/main/Targeting%20Editor.png' alt='Targeting Editor'>

            <p>To which computer will Shortcut1 be applied?</p>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer6" value="A">
                    <label for="optionA">A. Server3 only</label><br>
                    <input type="radio" id="optionB" name="answer6" value="B">
                    <label for="optionB">B. Computer1 and Server3 only</label><br>
                    <input type="radio" id="optionC" name="answer6" value="C">
                    <label for="optionC">C. Server2 and Server3 only</label><br>
                    <input type="radio" id="optionD" name="answer6" value="D">
                    <label for="optionD">D. Server1, Server2, and Server3 only</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo6"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo6" data-correct-answer="A" data-answer-name="answer6" data-solution-text="Solution: A. Server3 only">Solution</button>
        </div>

        <!-- Contenu de question7 ajouté -->
        <div>
            <h1>Question 7</h1>
            <p>Your network contains two Active Directory forests and a domain trust as shown in the following exhibit.</p>
            <img src="https://raw.githubusercontent.com/pc-aide/az-800/main/q35.png" alt="Domain Trust Diagram">

            <p>The domain trust has the following configurations:</p>
            <ul>
                <li>Name: adatum.com</li>
                <li>Type: External</li>
                <li>Direction: One-way, outgoing</li>
                <li>Outgoing trust authentication level: Domain-wide authentication</li>
            </ul>

            <p>The forests contain the users shown in the following table.</p>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Domain</th>
                </tr>
                <tr>
                    <td>User1</td>
                    <td>adatum.com</td>
                </tr>
                <tr>
                    <td>User2</td>
                    <td>contoso.com</td>
                </tr>
                <tr>
                    <td>User3</td>
                    <td>east.contoso.com</td>
                </tr>
            </table>

            <p>The forests contain the network shares shown in the following table.</p>
            <table>
                <tr>
                    <th>Name</th>
                    <th>In domain</th>
                </tr>
                <tr>
                    <td>Share1</td>
                    <td>adatum.com</td>
                </tr>
                <tr>
                    <td>Share2</td>
                    <td>contoso.com</td>
                </tr>
                <tr>
                    <td>Share3</td>
                    <td>east.contoso.com</td>
                </tr>
            </table>

            <p>For each of the following statements, select Yes if the statement is true. Otherwise, select No.</p>
            <form action="#">
                <fieldset>
                    <legend>Select the correct answers:</legend>
                    <label for="q7statement1">User1 can be assigned permissions for Share3:</label><br>
                    <input type="radio" id="q7statement1yes" name="q7statement1" value="Yes">
                    <label for="q7statement1yes">Yes</label><br>
                    <input type="radio" id="q7statement1no" name="q7statement1" value="No">
                    <label for="q7statement1no">No</label><br><br>

                    <label for="q7statement2">User2 can be assigned permissions for Share1:</label><br>
                    <input type="radio" id="q7statement2yes" name="q7statement2" value="Yes">
                    <label for="q7statement2yes">Yes</label><br>
                    <input type="radio" id="q7statement2no" name="q7statement2" value="No">
                    <label for="q7statement2no">No<br><br>

                    <label for="q7statement3">User3 can be assigned permissions for Share1:</label><br>
                    <input type="radio" id="q7statement3yes" name="q7statement3" value="Yes">
                    <label for="q7statement3yes">Yes</label><br>
                    <input type="radio" id="q7statement3no" name="q7statement3" value="No">
                    <label for="q7statement3no">No<br>
                </fieldset>
            </form>

            <div id="solutionInfo7"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo7" data-correct-answer="Yes,No,No" data-answer-name="answer7" data-solution-text="1. [YES]<br>-> There is an Outgoing trust, So we trust Adatum. Since this is forest trust, child domain, also can assign permissions to Adatum users.<br><br>2. [NO]<br>-> Type trust is outgoing to Adatum. Only Adatum users can sign-in to Contoso forest.<br><br>3. [NO]<br>-> Type trust is outgoing to Adatum. Only Adatum users can sign-in to Contoso forest.<br><br>For reference: <a href='https://www.tech-faq.com/understanding-trust-relationships.html' target='_blank'>Understanding Trust Relationships</a>">Solution</button>
        </div>

        <!-- Contenu de question8 ajouté -->
        <div>
            <h1>Question 8</h1>
            <p>Your network contains an Active Directory Domain Services (AD DS) forest named contoso.com. The forest contains a child domain named east.contoso.com and the servers shown in the following table.</p>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Domain</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>DC1</td>
                    <td>contoso.com</td>
                    <td>Has the schema master, infrastructure master, & domain naming master roles</td>
                </tr>
                <tr>
                    <td>DC2</td>
                    <td>east.contoso.com</td>
                    <td>Has the PDC emulator & RID master roles & is a global catalog server</td>
                </tr>
                <tr>
                    <td>Server1</td>
                    <td>contoso.com</td>
                    <td>Has the File Server, DFS Namespaces, & DFS Replication server roles</td>
                </tr>
            </table>
            <p>You need to create a folder for the Central Store to manage Group Policy template files for the entire forest.</p>
            <p>What should you name the folder, and on which server should you create the folder? To answer, select the appropriate options in the answer area.</p>

            <div class="answer-area">
                <div class="question-row">
                    <span>Name:</span>
                    <select data-answer="1" id="select8Option1">
                        <option value="CentralDefinitions">CentralDefinitions</option>
                        <option value="PolicyDefinitions">PolicyDefinitions</option>
                        <option value="TemplateDefinitions">TemplateDefinitions</option>
                    </select>
                </div>
                <div class="question-row">
                    <span>Server:</span>
                    <select data-answer="2" id="select8Option2">
                        <option value="DC1 only">DC1 only</option>
                        <option value="DC2 only">DC2 only</option>
                        <option value="Server1 only">Server1 only</option>
                        <option value="DC1 & DC2 only">DC1 & DC2 only</option>
                        <option value="DC1, DC2 & Server1">DC1, DC2 & Server1</option>
                    </select>
                </div>
            </div>

            <div id="solutionInfo8"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo8" data-correct-answer="PolicyDefinitions,DC1 & DC2 only" data-answer-name="answer8" data-solution-text="Name: PolicyDefinitions<br>Server: DC1 & DC2 only<br><br>Explanation:<br>&quot;PolicyDefinitions&quot; and DC1 and DC2 (each domain has its own set of Group Policy)<br>For reference: <a href='https://learn.microsoft.com/en-us/troubleshoot/windows-client/group-policy/create-and-manage-central-store#the-central-store' target='_blank'>Create and manage Central Store</a>">Solution</button>
        </div>

        <!-- Contenu de question9 ajouté -->
        <div>
            <h1>Question 9</h1>
            <p>Your network contains an Active Directory Domain Services (AD DS) domain. The domain contains the domain controllers shown in the following table.</p>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>DC1</td>
                    <td>Has the schema master, infrastructure master, & domain naming master roles</td>
                </tr>
                <tr>
                    <td>DC2</td>
                    <td>Has the PDC emulator & RID master roles & is a global catalog server</td>
                </tr>
                <tr>
                    <td>DC3</td>
                    <td>None</td>
                </tr>
            </table>
            <p>You need to configure DC3 to be the authoritative time server for the domain.</p>
            <p>Which operations master role should you transfer to DC3, and which console should you use? To answer, select the appropriate options in the answer area.</p>

            <div class="answer-area">
                <div class="question-row">
                    <span>Role:</span>
                    <select data-answer="1" id="select9Option1">
                        <option value="Domain naming master">Domain naming master</option>
                        <option value="Infrastructure master">Infrastructure master</option>
                        <option value="PDC emulator">PDC emulator</option>
                        <option value="RID master">RID master</option>
                        <option value="Schema master">Schema master</option>
                    </select>
                </div>
                <div class="question-row">
                    <span>Console:</span>
                    <select data-answer="2" id="select9Option2">
                        <option value="AD Administrative Center">AD Administrative Center</option>
                        <option value="AD Domains & Trusts">AD Domains & Trusts</option>
                        <option value="AD Sites & Services">AD Sites & Services</option>
                        <option value="AD Users & Computers">AD Users & Computers</option>
                    </select>
                </div>
            </div>

            <div id="solutionInfo9"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo9" data-correct-answer="PDC emulator,AD Users & Computers" data-answer-name="answer9" data-solution-text="Role: PDC emulator<br>Console: AD Users & Computers<br><br>Explanation:<br>1- In the console tree, right-click Active Directory Users and Computers, point to All Tasks, and then click Operations Master.<br>2- Click the appropriate tab for the role that you want to transfer (RID, PDC, or Infrastructure), and then click Change.<br>3- Click OK to confirm that you want to transfer the role, and then click Close.<br>For reference: <a href='https://learn.microsoft.com/en-us/troubleshoot/windows-server/identity/view-transfer-fsmo-roles' target='_blank'>View and transfer FSMO roles</a>">Solution</button>
        </div>

        <!-- Contenu de question10 ajouté -->
        <div>
            <h1>Question 10</h1>
            <p>Your network contains an Active Directory domain named contoso.com. The domain contains group managed service accounts (gMSAs). You have a server named Server1 that runs Windows Server and is in a workgroup. Server1 hosts Windows containers.</p>
            <p>You need to ensure that the Windows containers can authenticate to contoso.com.</p>
            <p>Which three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.</p>

            <div class="container">
                <div class="actions">
                    <div class="draggable" draggable="true" data-action="item10.1">On Server1, install & run ccg.exe</div>
                    <div class="draggable" draggable="true" data-action="item10.2">On Server1, run New-CredentialSpec</div>
                    <div class="draggable" draggable="true" data-action="item10.3">In contoso.com, generate a Key Distribution Service (KDS) root key</div>
                    <div class="draggable" draggable="true" data-action="item10.4">In contoso.com, create a gMSA & a standard user account</div>
                    <div class="draggable" draggable="true" data-action="item10.5">From a domain-joined computer, create a credential spec file & copy the file to Server1</div>
                </div>
                <div class="answers">
                    <div class="dropzone" id="dropzoneAction1">drag & drop 1 here</div>
                    <div class="dropzone" id="dropzoneAction2">drag & drop 2 here</div>
                    <div class="dropzone" id="dropzoneAction3">drag & drop 3 here</div>
                </div>
            </div>

            <div id="solutionInfo10"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo10" data-correct-answer="item10.4,item10.5,item10.1" data-answer-name="answer10" data-solution-text="Solution: 1. In contoso.com, create a gMSA & a standard user account, 2. From a domain-joined computer, create a credential spec file & copy the file to Server1, 3. On Server1, install & run ccg.exe<br><br>Explanation:<br>The KDS key is already created, because there are already gMSA accounts.<br>1) Create a new gMSA account.<br>2) From a domain-joined computer, create a credential spec file and copy it to Server1. This can only be created from a domain-joined computer.<br>3) Run ccg.exe using the credentials file.<br>For reference: <a href='https://learn.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/manage-serviceaccounts#use-case-for-creating-gmsa-account-for-non-domain-joined-container-hosts' target='_blank'>Creating gMSA Account for Non-Domain-Joined Container Hosts</a>">Solution</button>
        </div>

        <!-- Contenu de question11 ajouté -->
        <div>
            <h1>Question 11</h1>
            <p>Your on-premises network contains an Active Directory domain named contoso.com. You have an Azure AD tenant.<br><br>
            You plan to sync contoso.com with the Azure AD tenant by using Azure AD Connect cloud sync.<br><br>
            You need to create an account that will be used by Azure AD Connect cloud sync.<br><br>
            Which type of account should you create?</p>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer11" value="A">
                    <label for="optionA">A. system-assigned managed identity</label><br>
                    <input type="radio" id="optionB" name="answer11" value="B">
                    <label for="optionB">B. group managed service account (gMSA)</label><br>
                    <input type="radio" id="optionC" name="answer11" value="C">
                    <label for="optionC">C. user</label><br>
                    <input type="radio" id="optionD" name="answer11" value="D">
                    <label for="optionD">D. InetOrgPerson</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo11"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo11" data-correct-answer="B" data-answer-name="answer11" data-solution-text="Solution: B. group managed service account (gMSA)<br><br>Explanation:<br>Managed Service Account is recommended. the local user account is for 2017-2021 / Legacy.<br>You need the following to use Azure AD Connect cloud sync:<br>Domain Administrator or Enterprise Administrator credentials to create the Azure AD Connect Cloud Sync gMSA (group Managed Service Account) to run the agent service<br>For reference: <a href='https://learn.microsoft.com/en-us/entra/identity/hybrid/cloud-sync/how-to-prerequisites?tabs=public-cloud' target='_blank'>Azure AD Connect Cloud Sync Prerequisites</a>">Solution</button>
        </div>

        <!-- Contenu de question12 ajouté -->
        <div>
            <h1>Question 12</h1>
            <p>Your network contains an Active Directory Domain Services (AD DS) domain. The domain contains the domain controllers shown in the following table.</p>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>DC1</td>
                    <td>PDC emulator, RID master, & global catalog server</td>
                </tr>
                <tr>
                    <td>DC2</td>
                    <td>Infrastructure master & domain naming master</td>
                </tr>
                <tr>
                    <td>DC3</td>
                    <td>Schema master</td>
                </tr>
                <tr>
                    <td>RODC1</td>
                    <td>Read-only domain controller (RODC)</td>
                </tr>
            </table>
            <p>You need to ensure that if an attacker compromises the computer account of RODC1, the attacker cannot view the Employee-Number AD DS attribute.<br><br>
            Which partition should you modify?</p>

            <form action="#">
                <fieldset>
                    <legend>Select the appropriate option:</legend>
                    <input type="radio" id="optionA" name="answer12" value="A">
                    <label for="optionA">A. configuration</label><br>
                    <input type="radio" id="optionB" name="answer12" value="B">
                    <label for="optionB">B. global catalog</label><br>
                    <input type="radio" id="optionC" name="answer12" value="C">
                    <label for="optionC">C. domain</label><br>
                    <input type="radio" id="optionD" name="answer12" value="D">
                    <label for="optionD">D. schema</label><br>
                </fieldset>
            </form>

            <div id="solutionInfo12"></div> <!-- Div pour afficher la réponse -->

            <button class="solutionButton" data-solution-info-id="solutionInfo12" data-correct-answer="D" data-answer-name="answer12" data-solution-text="Solution: D. schema<br><br>Explanation:<br>To mark an attribute confidential, you have to remove the Read permission for the attribute for the Authenticated Users group. Marking the attribute as confidential provides an additional safeguard against an RODC that is compromised by removing the permissions that are necessary to read the credential-like data.<br>En lien avec 2e ref : the modifications needs to be done at schema partition. If you scroll up on the left navigation menu and click on 2 Attributes its tells The following sections specify the attributes in the Active Directory Lightweight Directory Services schema.<br>For reference:<br><a href='https://learn.microsoft.com/en-us/windows/win32/ad/rodc-and-active-directory-schema#marking-attributes-as-confidential' target='_blank'>Marking Attributes as Confidential</a><br><a href='https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adls/0afba1a7-ff6b-4878-97d0-f099de319dfb' target='_blank'>AD LS Schema Attributes</a>">Solution</button>
        </div>
    </div> <!-- Fin du div questionContainer -->

    <div id="finalScore"></div> <!-- Div pour afficher le score final -->

    <script>
        var score = 0; // Initialiser le score à 0
        var totalQuestions = 12; // Nombre total de questions

        function enableDragAndDrop() {
            document.querySelectorAll('.actions .draggable').forEach(draggable => {
                draggable.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', e.target.dataset.action);
                    e.dataTransfer.effectAllowed = 'move';
                });
            });

            document.querySelectorAll('.dropzone').forEach(dropzone => {
                dropzone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    e.dataTransfer.dropEffect = 'move';
                    dropzone.classList.add('highlight');
                });

                dropzone.addEventListener('dragleave', () => {
                    dropzone.classList.remove('highlight');
                });

                dropzone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const data = e.dataTransfer.getData('text/plain');
                    const draggedElement = document.querySelector(`.draggable[data-action='${data}']`);
                    if (draggedElement) {
                        e.target.textContent = draggedElement.textContent;
                        e.target.dataset.action = data;
                        dropzone.classList.remove('highlight');
                    }
                });
            });
        }

        function showFinalScore() {
            var percentage = (score / totalQuestions) * 100; // Calculer le score en pourcentage
            document.getElementById('finalScore').textContent = "Final Score: " + score + "/" + totalQuestions + " (" + percentage.toFixed(2) + "%)";
            document.getElementById('finalScoreHeader').textContent = "Final Score: " + score + "/" + totalQuestions + " (" + percentage.toFixed(2) + "%)"; // Afficher le score final dans le header
        }

        document.addEventListener('DOMContentLoaded', function() {
            enableDragAndDrop();

            // Re-attacher les écouteurs d'événements pour chaque bouton "Solution"
            var solutionButtons = document.querySelectorAll('.solutionButton');
            solutionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    var solutionInfoId = this.dataset.solutionInfoId;
                    var correctAnswer = this.dataset.correctAnswer.split(',');
                    let isCorrect = true;
                    let userAnswer = [];

                    if (this.dataset.answerName === 'answer5') {
                        const selectedAnswer = document.querySelector('input[name="' + this.dataset.answerName + '"]:checked');
                        if (selectedAnswer) {
                            userAnswer.push(selectedAnswer.value);
                            if (selectedAnswer.value !== correctAnswer[0]) {
                                isCorrect = false;
                            }
                        } else {
                            isCorrect = false;
                        }

                        const solutionText = this.dataset.solutionText;
                        const solutionInfo = document.getElementById(solutionInfoId);
                        if (isCorrect) {
                            solutionInfo.innerHTML = solutionText;
                            solutionInfo.classList.add('highlight');
                            score += 1; // Ajouter un point si la réponse est correcte
                        } else {
                            const userAnswerText = userAnswer.length ? userAnswer.join(', ') : "non défini";
                            solutionInfo.innerHTML = `Your answer is incorrect. Your answer: ${userAnswerText}. Correct answer: ${correctAnswer.join(', ')}.<br>${solutionText}`;
                            solutionInfo.classList.add('incorrect');
                        }

                        solutionInfo.style.display = 'block';
                        showFinalScore();
                    } else if (this.dataset.answerName === 'answer4' || this.dataset.answerName === 'answer8' || this.dataset.answerName === 'answer9') {
                        const select1 = document.querySelector(`#select${this.dataset.answerName.slice(-1)}Option1`).value;
                        const select2 = document.querySelector(`#select${this.dataset.answerName.slice(-1)}Option2`).value;
                        userAnswer = [select1, select2];
                        
                        userAnswer.forEach((answer, index) => {
                            if (answer !== correctAnswer[index]) {
                                isCorrect = false;
                            }
                        });

                        const solutionText = this.dataset.solutionText;
                        const solutionInfo = document.getElementById(solutionInfoId);
                        if (isCorrect) {
                            solutionInfo.innerHTML = solutionText;
                            solutionInfo.classList.remove('incorrect');
                            solutionInfo.classList.add('highlight');
                            score += 1; // Ajouter un point si la réponse est correcte
                        } else {
                            const userAnswerText = userAnswer.length ? userAnswer.join(', ') : "non défini";
                            solutionInfo.innerHTML = `Your answer is incorrect. Your answer: ${userAnswerText}. Correct answer: ${correctAnswer.join(', ')}.<br>${solutionText}`;
                            solutionInfo.classList.remove('highlight');
                            solutionInfo.classList.add('incorrect');
                        }

                        solutionInfo.style.display = 'block';
                        showFinalScore();
                    } else if (this.dataset.answerName === 'answer10') {
                        const dropzone1 = document.querySelector('#dropzoneAction1').dataset.action;
                        const dropzone2 = document.querySelector('#dropzoneAction2').dataset.action;
                        const dropzone3 = document.querySelector('#dropzoneAction3').dataset.action;
                        userAnswer = [dropzone1, dropzone2, dropzone3];
                        
                        userAnswer.forEach((answer, index) => {
                            if (answer !== correctAnswer[index]) {
                                isCorrect = false;
                            }
                        });

                        const solutionText = this.dataset.solutionText;
                        const solutionInfo = document.getElementById(solutionInfoId);
                        if (isCorrect) {
                            solutionInfo.innerHTML = solutionText;
                            solutionInfo.classList.remove('incorrect');
                            solutionInfo.classList.add('highlight');
                            score += 1; // Ajouter un point si la réponse est correcte
                        } else {
                            const userAnswerText = userAnswer.length ? userAnswer.join(', ') : "non défini";
                            solutionInfo.innerHTML = `Your answer is incorrect. Your answer: ${userAnswerText}. Correct answer: ${correctAnswer.join(', ')}.<br>${solutionText}`;
                            solutionInfo.classList.remove('highlight');
                            solutionInfo.classList.add('incorrect');
                        }

                        solutionInfo.style.display = 'block';
                        showFinalScore();
                    } else {
                        if (this.dataset.answerName === 'answer1') {
                            const organizeUsers = document.querySelector('#dropzoneOrganizeUsers').dataset.action;
                            const assignPermissions = document.querySelector('#dropzoneAssignPermissions').dataset.action;
                            userAnswer = [organizeUsers, assignPermissions];
                            if (organizeUsers !== correctAnswer[0] || assignPermissions !== correctAnswer[1]) {
                                isCorrect = false;
                            }
                        } else if (this.dataset.answerName === 'answer7') {
                            const statement1 = document.querySelector('input[name="q7statement1"]:checked');
                            const statement2 = document.querySelector('input[name="q7statement2"]:checked');
                            const statement3 = document.querySelector('input[name="q7statement3"]:checked');
                            if (!statement1 || !statement2 || !statement3) {
                                isCorrect = false;
                            } else {
                                userAnswer = [statement1 ? statement1.value : "non défini", statement2 ? statement2.value : "non défini", statement3 ? statement3.value : "non défini"];
                                if (statement1.value !== correctAnswer[0] || statement2.value !== correctAnswer[1] || statement3.value !== correctAnswer[2]) {
                                    isCorrect = false;
                                }
                            }
                        } else {
                            const selectedAnswer = document.querySelector('input[name="' + this.dataset.answerName + '"]:checked');
                            if (selectedAnswer) {
                                userAnswer.push(selectedAnswer.value);
                                if (selectedAnswer.value !== correctAnswer[0]) {
                                    isCorrect = false;
                                }
                            } else {
                                isCorrect = false;
                            }
                        }

                        const solutionText = this.dataset.solutionText;
                        const solutionInfo = document.getElementById(solutionInfoId);
                        if (isCorrect) {
                            solutionInfo.innerHTML = solutionText;
                            solutionInfo.classList.remove('incorrect');
                            solutionInfo.classList.add('highlight');
                            score += 1; // Ajouter un point si la réponse est correcte
                        } else {
                            const userAnswerText = userAnswer.length ? userAnswer.join(', ') : "non défini";
                            solutionInfo.innerHTML = `Your answer is incorrect. Your answer: ${userAnswerText}. Correct answer: ${correctAnswer.join(', ')}.<br>${solutionText}`;
                            solutionInfo.classList.remove('highlight');
                            solutionInfo.classList.add('incorrect');
                        }

                        solutionInfo.style.display = 'block';
                        showFinalScore();
                    }
                });
            });
        });
    </script>
</body>
</html>
